<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>R.V.M Hospitals Dashboard</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <style>
        :root {
            --sidebar-width: 250px;
            --sidebar-bg: rgb(48, 72, 156);
            --sidebar-color: #f8f9fa;
            --header-height: 60px;
            --main-bg: #f4f7f9;
        }

        body {
            font-family: Arial, sans-serif;
            background-color: var(--main-bg);
            margin: 0;
            padding: 0;
            overflow-x: hidden;
        }

        .wrapper {
            display: flex;
            min-height: 100vh;
        }


        .sidebar {
            width: var(--sidebar-width);
            background-color: var(--sidebar-bg);
            color: var(--sidebar-color);
            position: fixed;
            top: 0;
            bottom: 0;
            left: 0;
            overflow-y: auto;
            z-index: 1000;
            transition: width 0.3s ease;
        }

        .sidebar-header {
            padding: 1rem;
            text-align: center;
        }

        .sidebar-menu .list-group-item {
            background-color: transparent;
            color: var(--sidebar-color);
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: 0;
            cursor: pointer;
        }

        .sidebar-menu .list-group-item.active,
        .sidebar-menu .list-group-item:hover {
            background-color: rgba(255, 255, 255, 0.1);
        }

        .sidebar-menu .list-group-item i {
            margin-right: 1rem;
            width: 20px;
        }

        .sidebar-menu .menu-category {
            text-transform: uppercase;
            font-size: 0.75rem;
            color: #adb5bd;
            padding: 1rem 1.5rem 0.5rem;
        }


        .main-content {
            margin-left: var(--sidebar-width);
            width: 100%;
            padding: 1rem;
            transition: margin-left 0.3s ease;
        }


        .header {

            background-color: #fff;
            height: var(--header-height);
            padding: 0 1rem;

            display: flex;
            align-items: center;
            justify-content: space-between;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
            margin-bottom: 1rem;
            border-radius: 8px;
        }

        .header .search-bar {
            width: 400px;
            border: 1px solid #e0e0e0;
            border-radius: 5px;
        }

        .header .search-bar .form-control {
            border: none;
            box-shadow: none;
        }

        .header .header-icons i {
            color: #6c757d;
            font-size: 1.2rem;
            margin-left: 1rem;
            cursor: pointer;
        }

        .header .user-info {
            display: flex;
            align-items: center;
            margin-left: 1rem;
        }

        .header .user-info .user-avatar {

            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: #e9ecef;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            color: #495057;
            margin-right: 0.5rem;
        }


        .content-box {
            background-color: #fff;
            padding: 1rem;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
        }


        .table-actions .btn-group .btn {
            border-radius: 50%;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 0;
        }

        .table-actions .btn-primary {
            background-color: #0d6efd;
            border-color: #0d6efd;
        }

        .table-actions .btn-warning {
            background-color: #ffc107;
            border-color: #ffc107;
        }

        .table-actions .btn-danger {
            background-color: #dc3545;
            border-color: #dc3545;
        }

        .pagination-container {
            display: flex;
            justify-content: center;
            align-items: center;
            margin-top: 1rem;
        }

        .upload-box {
            border: 2px dashed #ccc;
            border-radius: 10px;
            padding: 40px;
            text-align: center;
            cursor: pointer;
            background-color: #f9f9f9;
            transition: border 0.3s;
        }

        .upload-box:hover {
            border-color: #007bff;
        }

        .upload-box i {
            font-size: 40px;
            color: gray;
        }

        footer {
            position: fixed;
            bottom: 0;
            left: 250px;
            /* match sidebar width */
            right: 0;
            height: 50px;
            background: #f8f9fa;
            border-top: 1px solid #dee2e6;
            text-align: center;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }

        .header {
            background-color: white;
            z-index: 1040;
            width: 83.8%;
            position: fixed;
            top: 0;
            left: 28ch;
        }

        footer {
            background-color: white;
            z-index: 1040;
            width: 83.6%;
            position: fixed;
            bottom: 0;
            left: 28.1ch;
        }

        .dept-card {
            background-color: #fff;
            position: fixed;
            top: 9.9%;
            left: 28.1ch;
            width: 83.8%;
            z-index: 1040;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.08);
            border: none;
            border-radius: 12px;
        }

        .dept-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 18px;
        }

        .dept-title {
            margin: 0;
            font-weight: 600;
            font-size: 15px;
            color: #333;
        }

        .dept-breadcrumb {
            margin: 0;
            font-size: 13px;
            background: transparent;
        }

        .dept-breadcrumb a {
            text-decoration: none;
            color: black;
        }

        .dept-breadcrumb .active {
            color: #6c757d;
        }

        .dept-breadcrumb .breadcrumb-item+.breadcrumb-item::before {
            content: "â€º";
            color: #6c757d;
        }

        a,
        a:hover,
        a:focus,
        a:active,
        a:visited {
            text-decoration: none !important;
            outline: none !important;
            box-shadow: none !important;
        }

        /* Status badge styles */
        .badge-success {
            background-color: #198754;
            color: white;
        }

        .badge-danger {
            background-color: #dc3545;
            color: white;
        }

        /* Import/Export Modal Styles */
        .import-export-modal .modal-header {
            background-color: rgb(48, 72, 156);
            color: white;
        }

        .import-export-modal .modal-body {
            padding: 20px;
        }

        .import-export-modal .form-label {
            font-weight: 500;
        }
    </style>
</head>

<body>
    <div class="wrapper">
        <nav class="sidebar">
            <div class="sidebar-header">
                <h4>RVM</h4>
            </div>
            <div class="list-group sidebar-menu">
                <div class="menu-category">MENU</div>
                <a href="#" class="list-group-item list-group-item-action active"><i class="fas fa-home"></i>
                    Dashboard</a>

                <div class="menu-category">OPD</div>
                <a href="#" class="list-group-item list-group-item-action"><i class="fas fa-user-plus"></i>
                    Patient
                    Registration</a>

                <div class="menu-category">EMERGENCY</div>
                <a href="#" class="list-group-item list-group-item-action"><i class="fas fa-ambulance"></i>
                    Emergency
                    Patient</a>

                <div class="menu-category">HELP DESK</div>
                <a href="#" class="list-group-item list-group-item-action"><i class="fas fa-headset"></i>
                    Service
                    Desk</a>

                <div class="menu-category">DIAGNOSTICS</div>
                <a href="#" class="list-group-item list-group-item-action"><i class="fas fa-flask"></i>
                    Centres</a>

                <div class="menu-category">HUMAN RESOURCE MANAGEMENT</div>
                <a href="#" class="list-group-item list-group-item-action"><i class="fas fa-users"></i>
                    Employees</a>
                <a href="#" class="list-group-item list-group-item-action"><i class="fas fa-sitemap"></i> Unit
                    Management</a>
                <a href="#" class="list-group-item list-group-item-action"><i class="fas fa-graduation-cap"></i>
                    Trainings</a>
                <a href="#" class="list-group-item list-group-item-action"><i class="fas fa-notes-medical"></i>
                    Health
                    Reports</a>
                <a href="#" class="list-group-item list-group-item-action"><i class="fas fa-syringe"></i>
                    Vaccination
                    Reports</a>

                <div class="menu-category">PLACEMENTS</div>
                <a href="#" class="list-group-item list-group-item-action"><i class="fas fa-building"></i>Placement
                    Cells</a>
                <a href="#" class="list-group-item list-group-item-action"><i
                        class="fas fa-clipboard-list"></i>Interviews</a>

                <div class="menu-category">REFERRAL AGENTS</div>
                <a href="#" class="list-group-item list-group-item-action"><i class="fas fa-user-friends"></i>Referral
                    Membership</a>

                <div class="menu-category">PATIENTS MANAGEMENT</div>
                <a href="#" class="list-group-item list-group-item-action"><i class="fas fa-file-medical"></i>Patient
                    Records</a>

                <div class="menu-category">MARKETING & CAMPAIGN</div>
                <a href="#" class="list-group-item list-group-item-action"><i class="fas fa-bullhorn"></i>Campaigns</a>

                <div class="menu-category">VENDOR</div>

                <div class="menu-category">ROOMS MANAGEMENT</div>
                <a href="#" class="list-group-item list-group-item-action"><i class="fas fa-building"></i>Rooms
                    Management</a>

                <div class="menu-category">SETTINGS</div>
                <a href="#" class="list-group-item list-group-item-action"><i class="fas fa-cog"></i>General
                    Settings</a>
            </div>
        </nav>

        <div class="main-content">
            <header class="header d-flex justify-content-between align-items-center">
                <div class="d-flex align-items-center">
                    <form class="d-flex me-3">
                        <input class="form-control me-2" type="search" placeholder="Search..." aria-label="Search">
                        <button class="btn btn-primary" type="submit"><i class="fas fa-search"></i></button>
                    </form>
                </div>
                <div class="d-flex align-items-center">
                    <div class="header-icons me-3">
                        <i class="fas fa-bed" title="Bed Management"></i>
                        <i class="fas fa-expand" id="fullscreen-btn" title="Full Screen"></i>
                        <i class="fas fa-moon" id="dark-mode-toggle" title="Night Mode"></i>
                        <i class="fas fa-bell" title="Notifications"></i>
                    </div>
                    <div class="user-info d-flex align-items-center">
                        <div>
                            <img src="rvm.png.png" style="border-radius:50%;" height="50" width="50" alt="avatar">
                        </div>
                        <div>
                            <div class="fw-bold">R.V.M Hospitals</div>
                            <div class="small text-muted">RVM15032501</div>
                        </div>
                    </div>
                </div>
                <div class="card dept-card">
                    <div class="card-body dept-header">
                        <h6 class="dept-title">ROOM LIST</h6>
                        <nav aria-label="breadcrumb">
                            <ol class="breadcrumb dept-breadcrumb">
                                <li class="breadcrumb-item"><a href="dashboard.html">Dashboards</a></li>
                                <li class="breadcrumb-item"><a href="dashboard.html">Setting</a></li>
                                <li class="breadcrumb-item active">Room List</li>
                            </ol>
                        </nav>
                    </div>
                </div>
            </header>
            <br>
            <br>
            <br>
            <br>
            <br>

            <div class="card">
                <div class="card-body">
                    <nav class="navbar navbar-expand-lg bg-body-tertiary">
                        <div class="container-fluid">
                            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                                <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                                    <li class="nav-item">
                                        <a href="#" class="btn" role="button" id="createRoomBtn"
                                            style="background-color: darkblue; color: white;">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"
                                                fill="currentColor" class="bi bi-file-earmark-plus" viewBox="0 0 16 16">
                                                <path
                                                    d="M8 6.5a.5.5 0 0 1 .5.5v1.5H10a.5.5 0 0 1 0 1H8.5V11a.5.5 0 0 1-1 0V9.5H6a.5.5 0 0 1 0-1h1.5V7a.5.5 0 0 1 .5-.5" />
                                                <path
                                                    d="M14 4.5V14a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h5.5zm-3 0A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V4.5z" />
                                            </svg>Create Room
                                        </a>&nbsp;&nbsp;
                                    </li>
                                    <li class="nav-item">
                                        <a href="#" class="btn" id="importBtn"
                                            style="background-color: darkcyan; color: white;">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"
                                                fill="currentColor" class="bi bi-file-earmark-plus" viewBox="0 0 16 16">
                                                <path
                                                    d="M8 6.5a.5.5 0 0 1 .5.5v1.5H10a.5.5 0 0 1 0 1H8.5V11a.5.5 0 0 1-1 0V9.5H6a.5.5 0 0 1 0-1h1.5V7a.5.5 0 0 1 .5-.5" />
                                                <path
                                                    d="M14 4.5V14a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h5.5zm-3 0A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V4.5z" />
                                            </svg>Import
                                        </a>&nbsp;&nbsp;
                                    </li>
                                    <li class="nav-item dropdown">
                                        <a href="#" class="btn" id="exportBtn"
                                            style="background-color: blue; color: white;">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"
                                                fill="currentColor" class="bi bi-arrow-right-square"
                                                viewBox="0 0 16 16">
                                                <path fill-rule="evenodd"
                                                    d="M15 2a1 1 0 0 0-1-1H2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1zM0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2zm4.5 5.5a.5.5 0 0 0 0 1h5.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3a.5.5 0 0 0 0-.708l-3-3a.5.5 0 1 0-.708.708L10.293 7.5z" />
                                            </svg>Export
                                        </a>
                                    </li>
                                </ul>
                                <form class="d-flex" role="search" id="searchForm">
                                    <input class="form-control me-2" type="search" placeholder="Search"
                                        aria-label="Search" id="searchInput" />
                                    <button class="btn btn-outline-success" type="submit">Search</button>
                                </form>
                            </div>
                        </div>
                    </nav>
                    <table class="table" id="roomsTable">
                        <thead>
                            <tr>
                                <th scope="col" style="background-color: rgb(48,72, 156); color: white;">S.No</th>
                                <th scope="col" style="background-color: rgb(48,72, 156); color: white;">Room Type</th>
                                <th scope="col" style="background-color: rgb(48,72, 156); color: white;">Create Date
                                </th>
                                <th scope="col" style="background-color: rgb(48,72, 156); color: white;">Status</th>
                                <th scope="col" style="background-color: rgb(48,72, 156); color: white;">Actions</th>
                            </tr>
                        </thead>
                        <tbody id="roomsTableBody">
                            <!-- Room data will be populated here -->
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Create/Edit Room Modal -->
            <div class="modal fade" id="roomModal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
                aria-labelledby="staticBackdropLabel" aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h1 class="modal-title fs-5" id="modalTitle">Create New Room Type</h1>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
                            <form id="roomForm">
                                <input type="hidden" id="roomId" value="">
                                <div class="mb-3">
                                    <label for="roomType" class="form-label">Room Type<span
                                            class="text-danger">*</span></label>
                                    <input type="text" class="form-control" id="roomType" name="roomType"
                                        placeholder="Enter Room Type" autocomplete="off" required>
                                </div>
                                <div class="mb-3">
                                    <label for="description" class="form-label">Short Description<span
                                            class="text-danger">*</span></label>
                                    <input type="text" class="form-control" id="description" name="description"
                                        placeholder="Enter Short Description" autocomplete="off" required>
                                </div>
                                <div class="mb-3">
                                    <label for="status" class="form-label">Status<span
                                            class="text-danger">*</span></label>
                                    <select class="form-select" id="status" name="status" required>
                                        <option value="Active">Active</option>
                                        <option value="Inactive">Inactive</option>
                                    </select>
                                </div>
                            </form>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                            <button type="button" class="btn btn-primary" id="saveRoomBtn">Save</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Delete Confirmation Modal -->
            <div class="modal fade" id="deleteModal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
                aria-labelledby="staticBackdropLabel" aria-hidden="true">
                <div class="modal-dialog modal-dialog-centered">
                    <div class="modal-content">
                        <div class="modal-header" style="background-color: rgb(245, 63, 63);">
                            <h1 class="modal-title fs-5" id="exampleModalLabel" style="color: white;">Delete</h1>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"
                                style="background-color: white;"></button>
                        </div>
                        <div class="modal-body text-center">
                            <svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" fill="currentColor"
                                class="bi bi-trash3" viewBox="0 0 16 16" style="color: rgb(245, 63, 63);">
                                <path
                                    d="M6.5 1h3a.5.5 0 0 1 .5.5v1H6v-1a.5.5 0 0 1 .5-.5M11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3A1.5 1.5 0 0 0 5 1.5v1H1.5a.5.5 0 0 0 0 1h.538l.853 10.66A2 2 0 0 0 4.885 16h6.23a2 2 0 0 0 1.994-1.84l.853-10.66h.538a.5.5 0 0 0 0-1zm1.958 1-.846 10.58a1 1 0 0 1-.997.92h-6.23a1 1 0 0 1-.997-.92L3.042 3.5zm-7.487 1a.5.5 0 0 1 .528.47l.5 8.5a.5.5 0 0 1-.998.06L5 5.03a.5.5 0 0 1 .47-.53Zm5.058 0a.5.5 0 0 1 .47.53l-.5 8.5a.5.5 0 1 1-.998-.06l.5-8.5a.5.5 0 0 1 .528-.47M8 4.5a.5.5 0 0 1 .5.5v8.5a.5.5 0 0 1-1 0V5a.5.5 0 0 1 .5-.5" />
                            </svg>
                            <br>
                            <p class="mt-3">Are you sure you want to delete this room?</p>
                            <input type="hidden" id="deleteRoomId">
                        </div>
                        <div class="modal-footer justify-content-center">
                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                            <button type="button" class="btn btn-danger" id="confirmDeleteBtn">Yes, delete it!</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Import Modal -->
            <div class="modal fade import-export-modal" id="importModal" tabindex="-1"
                aria-labelledby="importModalLabel" aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="importModalLabel">Import Rooms</h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
                            <div class="mb-3">
                                <label for="importFile" class="form-label">Select CSV File</label>
                                <input class="form-control" type="file" id="importFile" accept=".csv">
                            </div>
                            <div class="form-text">
                                CSV format should be: Room Type, Description, Status
                            </div>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                            <button type="button" class="btn btn-primary" id="processImportBtn">Import</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Pagination -->
            <nav aria-label="..." class="mt-3">
                <ul class="pagination offset-md-5" id="pagination">
                    <li class="page-item disabled">
                        <a class="page-link" href="#" style="border-radius: 10px;">Previous</a>
                    </li>
                    <li class="page-item active"><a class="page-link" href="#"
                            style="border-radius: 10px; background-color: rgb(48, 72, 156);">1</a>
                    </li>
                    <li class="page-item">
                        <a class="page-link" href="#" style="border-radius: 10px;">Next</a>
                    </li>
                </ul>
            </nav>

            <footer class="mt-auto">
                <div class="card">
                    <div class="container">
                        <div class="row">
                            <div class="text-center text-secondary small p-3">
                                <p class="mb-0">R.V.M Hospitals Â© Paramson Software.</p>
                                <p>All Rights Reserved.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </footer>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI"
        crossorigin="anonymous"></script>

    <script>
        // Sample data for demonstration (in a real app, this would come from a server)
        let roomsData = [
            { id: 1, type: "WARD", description: "General Ward", createDate: "11 Sep 25", status: "Active" },
            { id: 2, type: "ICU", description: "Intensive Care Unit", createDate: "10 Sep 25", status: "Active" },
            { id: 3, type: "PRIVATE", description: "Private Room", createDate: "09 Sep 25", status: "Inactive" }
        ];

        // DOM elements
        const roomsTableBody = document.getElementById('roomsTableBody');
        const roomModal = new bootstrap.Modal(document.getElementById('roomModal'));
        const deleteModal = new bootstrap.Modal(document.getElementById('deleteModal'));
        const importModal = new bootstrap.Modal(document.getElementById('importModal'));
        const roomForm = document.getElementById('roomForm');
        const searchForm = document.getElementById('searchForm');
        const searchInput = document.getElementById('searchInput');

        // Initialize the page
        document.addEventListener('DOMContentLoaded', function () {
            loadRoomsData();
            setupEventListeners();
        });

        // Load rooms data into the table
        function loadRoomsData() {
            roomsTableBody.innerHTML = '';

            roomsData.forEach((room, index) => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <th scope="row">${index + 1}</th>
                    <td>${room.type}</td>
                    <td>${room.createDate}</td>
                    <td><span class="badge ${room.status === 'Active' ? 'text-bg-success' : 'text-bg-danger'}">${room.status}</span></td>
                    <td>
                        <a href="#" class="btn btn-primary edit-btn" data-id="${room.id}">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-pencil" viewBox="0 0 16 16">
                                <path d="M12.146.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-10 10a.5.5 0 0 1-.168.11l-5 2a.5.5 0 0 1-.65-.65l2-5a.5.5 0 0 1 .11-.168zM11.207 2.5 13.5 4.793 14.793 3.5 12.5 1.207zm1.586 3L10.5 3.207 4 9.707V10h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.293zm-9.761 5.175-.106.106-1.528 3.821 3.821-1.528.106-.106A.5.5 0 0 1 5 12.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.468-.325"/>
                            </svg>
                        </a>
                        <a href="#" class="btn btn-danger delete-btn" data-id="${room.id}">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-trash-fill" viewBox="0 0 16 16">
                                <path d="M2.5 1a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1H3v9a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V4h.5a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1zm3 4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 .5-.5M8 5a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7A.5.5 0 0 1 8 5m3 .5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 1 0"/>
                            </svg>
                        </a>
                    </td>
                `;
                roomsTableBody.appendChild(row);
            });

            // Add event listeners to edit and delete buttons
            document.querySelectorAll('.edit-btn').forEach(btn => {
                btn.addEventListener('click', function (e) {
                    e.preventDefault();
                    const roomId = this.getAttribute('data-id');
                    editRoom(roomId);
                });
            });

            document.querySelectorAll('.delete-btn').forEach(btn => {
                btn.addEventListener('click', function (e) {
                    e.preventDefault();
                    const roomId = this.getAttribute('data-id');
                    showDeleteModal(roomId);
                });
            });
        }

        // Set up event listeners
        function setupEventListeners() {
            // Create room button
            document.getElementById('createRoomBtn').addEventListener('click', function (e) {
                e.preventDefault();
                showRoomModal();
            });

            // Save room button
            document.getElementById('saveRoomBtn').addEventListener('click', saveRoom);

            // Confirm delete button
            document.getElementById('confirmDeleteBtn').addEventListener('click', deleteRoom);

            // Import button
            document.getElementById('importBtn').addEventListener('click', function (e) {
                e.preventDefault();
                importModal.show();
            });

            // Export button
            document.getElementById('exportBtn').addEventListener('click', function (e) {
                e.preventDefault();
                exportRooms();
            });

            // Process import button
            document.getElementById('processImportBtn').addEventListener('click', processImport);

            // Search form
            searchForm.addEventListener('submit', function (e) {
                e.preventDefault();
                searchRooms(searchInput.value);
            });
        }

        // Show room modal for creating/editing
        function showRoomModal(roomId = null) {
            const modalTitle = document.getElementById('modalTitle');
            const roomIdInput = document.getElementById('roomId');
            const roomTypeInput = document.getElementById('roomType');
            const descriptionInput = document.getElementById('description');
            const statusInput = document.getElementById('status');

            if (roomId) {
                // Edit mode
                modalTitle.textContent = 'Edit Room Type';
                const room = roomsData.find(r => r.id == roomId);
                if (room) {
                    roomIdInput.value = room.id;
                    roomTypeInput.value = room.type;
                    descriptionInput.value = room.description;
                    statusInput.value = room.status;
                }
            } else {
                // Create mode
                modalTitle.textContent = 'Create New Room Type';
                roomForm.reset();
                roomIdInput.value = '';
            }

            roomModal.show();
        }

        // Save room (create or update)
        function saveRoom() {
            const roomId = document.getElementById('roomId').value;
            const roomType = document.getElementById('roomType').value;
            const description = document.getElementById('description').value;
            const status = document.getElementById('status').value;

            if (!roomType || !description) {
                alert('Please fill in all required fields');
                return;
            }

            if (roomId) {
                // Update existing room
                const index = roomsData.findIndex(r => r.id == roomId);
                if (index !== -1) {
                    roomsData[index] = {
                        ...roomsData[index],
                        type: roomType,
                        description: description,
                        status: status,
                        createDate: new Date().toLocaleDateString('en-GB', { day: '2-digit', month: 'short', year: '2-digit' })
                    };
                }
            } else {
                // Create new room
                const newRoom = {
                    id: roomsData.length > 0 ? Math.max(...roomsData.map(r => r.id)) + 1 : 1,
                    type: roomType,
                    description: description,
                    status: status,
                    createDate: new Date().toLocaleDateString('en-GB', { day: '2-digit', month: 'short', year: '2-digit' })
                };
                roomsData.push(newRoom);
            }

            loadRoomsData();
            roomModal.hide();
            alert(`Room ${roomId ? 'updated' : 'created'} successfully!`);
        }

        // Edit room
        function editRoom(roomId) {
            showRoomModal(roomId);
        }

        // Show delete confirmation modal
        function showDeleteModal(roomId) {
            document.getElementById('deleteRoomId').value = roomId;
            deleteModal.show();
        }

        // Delete room
        function deleteRoom() {
            const roomId = document.getElementById('deleteRoomId').value;
            roomsData = roomsData.filter(room => room.id != roomId);
            loadRoomsData();
            deleteModal.hide();
            alert('Room deleted successfully!');
        }

        // Search rooms
        function searchRooms(query) {
            if (!query) {
                loadRoomsData();
                return;
            }

            const filteredRooms = roomsData.filter(room =>
                room.type.toLowerCase().includes(query.toLowerCase()) ||
                room.description.toLowerCase().includes(query.toLowerCase())
            );

            roomsTableBody.innerHTML = '';

            if (filteredRooms.length === 0) {
                roomsTableBody.innerHTML = '<tr><td colspan="5" class="text-center">No rooms found</td></tr>';
                return;
            }

            filteredRooms.forEach((room, index) => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <th scope="row">${index + 1}</th>
                    <td>${room.type}</td>
                    <td>${room.createDate}</td>
                    <td><span class="badge ${room.status === 'Active' ? 'text-bg-success' : 'text-bg-danger'}">${room.status}</span></td>
                    <td>
                        <a href="#" class="btn btn-primary edit-btn" data-id="${room.id}">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-pencil" viewBox="0 0 16 16">
                                <path d="M12.146.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1 0 .708l-10 10a.5.5 0 0 1-.168.11l-5 2a.5.5 0 0 1-.65-.65l2-5a.5.5 0 0 1 .11-.168zM11.207 2.5 13.5 4.793 14.793 3.5 12.5 1.207zm1.586 3L10.5 3.207 4 9.707V10h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.293zm-9.761 5.175-.106.106-1.528 3.821 3.821-1.528.106-.106A.5.5 0 0 1 5 12.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.468-.325"/>
                            </svg>
                        </a>
                        <a href="#" class="btn btn-danger delete-btn" data-id="${room.id}">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-trash-fill" viewBox="0 0 16 16">
                                <path d="M2.5 1a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1H3v9a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V4h.5a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1zm3 4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 .5-.5M8 5a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7A.5.5 0 0 1 8 5m3 .5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 1 0"/>
                            </svg>
                        </a>
                    </td>
                `;
                roomsTableBody.appendChild(row);
            });

            // Reattach event listeners to the new buttons
            document.querySelectorAll('.edit-btn').forEach(btn => {
                btn.addEventListener('click', function (e) {
                    e.preventDefault();
                    const roomId = this.getAttribute('data-id');
                    editRoom(roomId);
                });
            });

            document.querySelectorAll('.delete-btn').forEach(btn => {
                btn.addEventListener('click', function (e) {
                    e.preventDefault();
                    const roomId = this.getAttribute('data-id');
                    showDeleteModal(roomId);
                });
            });
        }

        // Export rooms to CSV
        function exportRooms() {
            if (roomsData.length === 0) {
                alert('No rooms to export');
                return;
            }

            const headers = ['Room Type', 'Description', 'Status', 'Create Date'];
            const csvData = roomsData.map(room => [
                room.type,
                room.description,
                room.status,
                room.createDate
            ]);

            // Create CSV content
            let csvContent = headers.join(',') + '\n';
            csvData.forEach(row => {
                csvContent += row.join(',') + '\n';
            });

            // Create download link
            const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });
            const url = URL.createObjectURL(blob);
            const link = document.createElement('a');
            link.setAttribute('href', url);
            link.setAttribute('download', 'rooms_export.csv');
            link.style.visibility = 'hidden';
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);

            alert('Rooms exported successfully!');
        }

        // Process import from CSV
        function processImport() {
            const fileInput = document.getElementById('importFile');
            const file = fileInput.files[0];

            if (!file) {
                alert('Please select a file to import');
                return;
            }

            const reader = new FileReader();
            reader.onload = function (e) {
                const content = e.target.result;
                const lines = content.split('\n');

                // Skip header row and process data
                for (let i = 1; i < lines.length; i++) {
                    if (lines[i].trim() === '') continue;

                    const [type, description, status] = lines[i].split(',');

                    if (type && description && status) {
                        const newRoom = {
                            id: roomsData.length > 0 ? Math.max(...roomsData.map(r => r.id)) + 1 : 1,
                            type: type.trim(),
                            description: description.trim(),
                            status: status.trim(),
                            createDate: new Date().toLocaleDateString('en-GB', { day: '2-digit', month: 'short', year: '2-digit' })
                        };
                        roomsData.push(newRoom);
                    }
                }

                loadRoomsData();
                importModal.hide();
                fileInput.value = '';
                alert('Rooms imported successfully!');
            };
            reader.readAsText(file);
        }
    </script>
</body>

</html>